// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

public struct PageBuild: Codable {
    public var url: URL
    public var status: String
    public var error: Error
    /// Simple User
    public var pusher: NullableSimpleUser?
    public var commit: String
    public var duration: Int
    public var createdAt: Date
    public var updatedAt: Date

    public struct Error: Codable {
        public var message: String?

        public init(message: String? = nil) {
            self.message = message
        }

        public init(from decoder: Decoder) throws {
            let values = try decoder.container(keyedBy: StringCodingKey.self)
            self.message = try values.decodeIfPresent(String.self, forKey: "message")
        }

        public func encode(to encoder: Encoder) throws {
            var values = encoder.container(keyedBy: StringCodingKey.self)
            try values.encodeIfPresent(message, forKey: "message")
        }
    }

    public init(url: URL, status: String, error: Error, pusher: NullableSimpleUser? = nil, commit: String, duration: Int, createdAt: Date, updatedAt: Date) {
        self.url = url
        self.status = status
        self.error = error
        self.pusher = pusher
        self.commit = commit
        self.duration = duration
        self.createdAt = createdAt
        self.updatedAt = updatedAt
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.url = try values.decode(URL.self, forKey: "url")
        self.status = try values.decode(String.self, forKey: "status")
        self.error = try values.decode(Error.self, forKey: "error")
        self.pusher = try values.decodeIfPresent(NullableSimpleUser.self, forKey: "pusher")
        self.commit = try values.decode(String.self, forKey: "commit")
        self.duration = try values.decode(Int.self, forKey: "duration")
        self.createdAt = try values.decode(Date.self, forKey: "created_at")
        self.updatedAt = try values.decode(Date.self, forKey: "updated_at")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encode(url, forKey: "url")
        try values.encode(status, forKey: "status")
        try values.encode(error, forKey: "error")
        try values.encodeIfPresent(pusher, forKey: "pusher")
        try values.encode(commit, forKey: "commit")
        try values.encode(duration, forKey: "duration")
        try values.encode(createdAt, forKey: "created_at")
        try values.encode(updatedAt, forKey: "updated_at")
    }
}
