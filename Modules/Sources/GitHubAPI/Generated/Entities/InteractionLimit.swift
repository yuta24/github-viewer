// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

/// Interaction Restrictions
///
/// Limit interactions to a specific type of user for a specified duration
public struct InteractionLimit: Codable {
    /// The type of GitHub user that can comment, open issues, or create pull requests while the interaction limit is in effect.
    ///
    /// Example: "collaborators_only"
    public var limit: InteractionGroup
    /// The duration of the interaction restriction. Default: `one_day`.
    ///
    /// Example: "one_month"
    public var expiry: InteractionExpiry?

    public init(limit: InteractionGroup, expiry: InteractionExpiry? = nil) {
        self.limit = limit
        self.expiry = expiry
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.limit = try values.decode(InteractionGroup.self, forKey: "limit")
        self.expiry = try values.decodeIfPresent(InteractionExpiry.self, forKey: "expiry")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encode(limit, forKey: "limit")
        try values.encodeIfPresent(expiry, forKey: "expiry")
    }
}
