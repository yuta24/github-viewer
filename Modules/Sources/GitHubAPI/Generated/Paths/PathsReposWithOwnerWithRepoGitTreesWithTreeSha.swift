// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation
import Get
import HTTPHeaders
import URLQueryEncoder

extension Paths.Repos.WithOwner.WithRepo.Git.Trees {
    public func treeSha(_ treeSha: String) -> WithTreeSha {
        WithTreeSha(path: "\(path)/\(treeSha)")
    }

    public struct WithTreeSha {
        /// Path: `/repos/{owner}/{repo}/git/trees/{tree_sha}`
        public let path: String

        /// Get a tree
        ///
        /// Returns a single tree using the SHA1 value for that tree.
        /// 
        /// If `truncated` is `true` in the response then the number of items in the `tree` array exceeded our maximum limit. If you need to fetch more items, use the non-recursive method of fetching trees, and fetch one sub-tree at a time.
        /// 
        /// 
        /// **Note**: The limit for the `tree` array is 100,000 entries with a maximum size of 7 MB when using the `recursive` parameter.
        ///
        /// [API method documentation](https://docs.github.com/rest/reference/git#get-a-tree)
        public func get(recursive: String? = nil) -> Request<GitHubAPI.GitTree> {
            Request(method: "GET", url: path, query: makeGetQuery(recursive), id: "git/get-tree")
        }

        private func makeGetQuery(_ recursive: String?) -> [(String, String?)] {
            let encoder = URLQueryEncoder()
            encoder.encode(recursive, forKey: "recursive")
            return encoder.items
        }
    }
}
